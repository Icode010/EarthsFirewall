<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Earth Simulator ‚Ä¢ Clean Layout</title>
  <style>
    /* -------- Base / Reset -------- */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:#0b0f17;color:#e6e6e6;overflow:hidden}

    :root{
      --bg:#0b0f17;           /* page bg */
      --panel:#0f1523cc;      /* glass panel */
      --panel-border:#1f2940; /* panel outline */
      --muted:#94a3b8;        /* secondary text */
      --accent:#4f8cff;       /* electric blue */
      --accent-2:#7aa2ff;     /* hover blue  */
      --danger:#ff5d5d;
      --ok:#2fd180;
      --shadow: 0 10px 30px rgba(0,0,0,.45);
      --radius: 18px;
    }

    a{color:inherit;text-decoration:none}
    button{font:inherit;color:inherit}

    /* -------- Stage (WebGL) -------- */
    .stage{position:fixed;inset:0;background:radial-gradient(1200px 800px at 50% 20%, #0d1324, #06080f 65%, #03050a 100%);}
    canvas#earthCanvas{position:absolute;inset:0;width:100%;height:100%;display:block}

    /* Beautiful twinkling stars backdrop */
    .stars{position:absolute;inset:0;pointer-events:none;opacity:.6;background-image: 
             radial-gradient(2px 2px at 20% 10%, #ffffff, transparent 60%),
             radial-gradient(1.5px 1.5px at 80% 30%, #9cc7ff, transparent 60%),
             radial-gradient(1.8px 1.8px at 60% 80%, #ffffff, transparent 60%),
             radial-gradient(1.2px 1.2px at 30% 60%, #8db7ff, transparent 60%),
             radial-gradient(1px 1px at 40% 20%, #ffffff, transparent 50%),
             radial-gradient(1.5px 1.5px at 70% 70%, #a8c8ff, transparent 60%),
             radial-gradient(1px 1px at 90% 40%, #ffffff, transparent 50%),
             radial-gradient(1.3px 1.3px at 10% 80%, #9cc7ff, transparent 60%),
             radial-gradient(1px 1px at 50% 50%, #ffffff, transparent 50%),
             radial-gradient(1.4px 1.4px at 15% 60%, #8db7ff, transparent 60%);
             background-repeat:no-repeat; 
             background-size:100% 100%;
             animation: twinkle 8s ease-in-out infinite;}
    
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      25% { opacity: 0.8; }
      50% { opacity: 0.4; }
      75% { opacity: 0.9; }
    }
    
    /* Additional star layers for depth */
    .stars-2 {
      opacity: 0.4;
      animation: twinkle 12s ease-in-out infinite reverse;
      background-image: 
        radial-gradient(1px 1px at 25% 15%, #ffffff, transparent 50%),
        radial-gradient(1.2px 1.2px at 75% 25%, #a8c8ff, transparent 60%),
        radial-gradient(0.8px 0.8px at 45% 85%, #ffffff, transparent 50%),
        radial-gradient(1.1px 1.1px at 85% 45%, #9cc7ff, transparent 60%),
        radial-gradient(0.9px 0.9px at 35% 35%, #ffffff, transparent 50%),
        radial-gradient(1.3px 1.3px at 65% 65%, #8db7ff, transparent 60%);
    }
    
    .stars-3 {
      opacity: 0.2;
      animation: twinkle 16s ease-in-out infinite;
      background-image: 
        radial-gradient(0.6px 0.6px at 30% 25%, #ffffff, transparent 40%),
        radial-gradient(0.8px 0.8px at 70% 35%, #9cc7ff, transparent 50%),
        radial-gradient(0.5px 0.5px at 55% 75%, #ffffff, transparent 40%),
        radial-gradient(0.7px 0.7px at 25% 85%, #a8c8ff, transparent 50%),
        radial-gradient(0.6px 0.6px at 80% 15%, #ffffff, transparent 40%);
    }

    /* -------- Top Bar -------- */
    .topbar{position:fixed;top:14px;left:82px;right:18px;display:flex;align-items:center;gap:12px;z-index:30}
    .chip{backdrop-filter:saturate(140%) blur(8px);background:linear-gradient(180deg, #141d31cc, #0c1223cc);border:1px solid var(--panel-border);border-radius:999px;padding:10px 14px;box-shadow:var(--shadow)}
    .title{font-weight:700;letter-spacing:.2px}
    .sub{color:var(--muted);font-size:.9rem}

    /* -------- Left Dock (vertical buttons) -------- */
    .dock{position:fixed;left:18px;top:18px;bottom:18px;width:56px;display:flex;flex-direction:column;align-items:center;gap:12px;z-index:40}
    .dock .logo{width:56px;height:56px;border-radius:16px;background:linear-gradient(180deg,#1b2642,#111a30);border:1px solid var(--panel-border);display:grid;place-items:center;box-shadow:var(--shadow)}
    .logo span{font-weight:800;color:#9fc1ff}

    .dock button{width:56px;height:56px;border-radius:16px;border:1px solid var(--panel-border);background:linear-gradient(180deg, #0f1523dd, #0b1120dd);cursor:pointer;transition:transform .12s ease, border-color .2s ease, box-shadow .2s ease}
    .dock button:hover{transform:translateY(-2px);border-color:#28407a;box-shadow:0 8px 24px rgba(79,140,255,.25)}
    .dock button.active{outline:2px solid #274a9a66;box-shadow:0 0 0 2px #274a9a33 inset, 0 8px 30px rgba(79,140,255,.35)}

    .btn-label{font-size:.72rem;color:var(--muted);text-align:center}

    /* -------- Right Panel (controls/info) -------- */
    .panel{position:fixed;right:18px;top:18px;bottom:18px;width:360px;max-width:92vw;border-radius:var(--radius);display:flex;flex-direction:column;overflow:hidden;background:linear-gradient(180deg,#0e1424cc,#0b1120cc);border:1px solid var(--panel-border);backdrop-filter:saturate(140%) blur(10px);box-shadow:var(--shadow);z-index:35}

    .panel-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--panel-border)}
    .panel-title{font-weight:700}

    .panel-body{padding:14px 16px 10px 16px;overflow:auto}
    .field{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
    .field label{font-size:.9rem;color:var(--muted)}
    .slider{appearance:none;width:100%;height:6px;border-radius:999px;background:#1a2541;outline:none}
    .slider::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 4px #4f8cff22;border:2px solid #2b56b6;cursor:pointer}
    .select, .input{width:100%;background:#0d1427;border:1px solid #1a2541;border-radius:12px;padding:10px 12px;color:#e8eefc;outline:none}

    .btn{background:linear-gradient(180deg, #4f8cff, #3a6bcc);border:none;border-radius:12px;padding:10px 16px;color:#fff;font-weight:600;cursor:pointer;transition:transform .12s ease, box-shadow .2s ease}
    .btn:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(79,140,255,.4)}
    .btn.danger{background:linear-gradient(180deg, #ff5d5d, #cc4a4a)}
    .btn.success{background:linear-gradient(180deg, #2fd180, #26a66a)}

    .status{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#0d1427;border-radius:10px;border:1px solid #1a2541}
    .status-dot{width:8px;height:8px;border-radius:50%;background:var(--ok)}
    .status.danger .status-dot{background:var(--danger)}

    .grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    .metric{background:#0d1427;border:1px solid #1a2541;border-radius:10px;padding:10px;text-align:center}
    .metric-value{font-weight:700;font-size:1.1rem}
    .metric-label{font-size:.8rem;color:var(--muted)}

    /* Mobile */
    @media (max-width: 768px) {
      .dock{left:12px;top:12px;width:48px}
      .dock button{width:48px;height:48px}
      .topbar{left:66px;right:12px}
      .panel{right:12px;top:12px;bottom:12px;width:calc(100vw - 84px)}
    }
  </style>
</head>
<body>
  <!-- Fullscreen Earth Canvas -->
  <div class="stage">
    <canvas id="earthCanvas"></canvas>
    <div class="stars"></div>
    <div class="stars stars-2"></div>
    <div class="stars stars-3"></div>
  </div>

  <!-- Top Status Bar -->
  <div class="topbar">
    <div class="chip">
      <div class="title">Earth's Firewall</div>
      <div class="sub">Asteroid Defense Simulator</div>
    </div>
    <div class="chip">
      <div class="status">
        <div class="status-dot"></div>
        <span>System Online</span>
      </div>
    </div>
  </div>

  <!-- Left Dock -->
  <div class="dock">
    <div class="logo">
      <span>üåç</span>
    </div>
    <button class="active" title="Simulation">
      <div>üéØ</div>
      <div class="btn-label">Sim</div>
    </button>
    <button title="Defense">
      <div>üõ°Ô∏è</div>
      <div class="btn-label">Def</div>
    </button>
    <button title="Analysis">
      <div>üìä</div>
      <div class="btn-label">Data</div>
    </button>
    <button title="Settings">
      <div>‚öôÔ∏è</div>
      <div class="btn-label">Set</div>
    </button>
  </div>

  <!-- Right Control Panel -->
  <div class="panel">
    <div class="panel-header">
      <div class="panel-title">Mission Control</div>
    </div>
    
    <div class="panel-body">
      <!-- Asteroid Selection -->
      <div class="field">
        <label>Asteroid Threat</label>
        <select class="select" id="asteroidSelect">
          <option value="impactor-2025">Impactor-2025 (NASA Threat)</option>
          <option value="custom">Custom Asteroid</option>
          <option value="apophis">Apophis (99942)</option>
          <option value="bennu">Bennu (101955)</option>
        </select>
      </div>

      <!-- Impact Parameters -->
      <div class="field">
        <label>Diameter: <span id="diameterValue">0.5 km</span></label>
        <input type="range" class="slider" id="diameterSlider" min="0.1" max="10" step="0.1" value="0.5">
      </div>

      <div class="field">
        <label>Velocity: <span id="velocityValue">15.2 km/s</span></label>
        <input type="range" class="slider" id="velocitySlider" min="5" max="50" step="0.1" value="15.2">
      </div>

      <div class="field">
        <label>Impact Angle: <span id="angleValue">45¬∞</span></label>
        <input type="range" class="slider" id="angleSlider" min="0" max="90" step="1" value="45">
      </div>

      <!-- Action Buttons -->
      <div class="field">
        <button class="btn" id="simulateBtn">üöÄ Simulate Impact</button>
      </div>
      <div class="field">
        <button class="btn" id="deflectBtn">üõ°Ô∏è Test Deflection</button>
      </div>
      <div class="field">
        <button class="btn danger" id="gameBtn">üéÆ Defend Earth!</button>
      </div>

      <!-- Impact Results -->
      <div class="field">
        <label>Impact Analysis</label>
        <div class="grid">
          <div class="metric">
            <div class="metric-value" id="energyValue">1.2e15 J</div>
            <div class="metric-label">Energy</div>
          </div>
          <div class="metric">
            <div class="metric-value" id="tntValue">0.3 MT</div>
            <div class="metric-label">TNT Eq.</div>
          </div>
          <div class="metric">
            <div class="metric-value" id="craterValue">2.5 km</div>
            <div class="metric-label">Crater</div>
          </div>
          <div class="metric">
            <div class="metric-value" id="devastationValue">5.2 km</div>
            <div class="metric-label">Blast</div>
          </div>
        </div>
      </div>

      <!-- Defense Strategy -->
      <div class="field">
        <label>Defense Strategy</label>
        <select class="select" id="strategySelect">
          <option value="kinetic">Kinetic Impactor</option>
          <option value="gravity">Gravity Tractor</option>
          <option value="laser">Laser Ablation</option>
        </select>
      </div>

      <!-- System Status -->
      <div class="field">
        <div class="status">
          <div class="status-dot"></div>
          <span>Earth Defense Systems: Online</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Three.js Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    // Initialize the 3D Earth scene
    let scene, camera, renderer, earth, asteroid;
    let animationId;

    function initEarthScene() {
      const canvas = document.getElementById('earthCanvas');
      
      // Create scene
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x000011);

      // Create Earth
      const earthGeometry = new THREE.SphereGeometry(1, 32, 32);
      const earthMaterial = new THREE.MeshPhongMaterial({
        color: 0x4a90e2,
        shininess: 100
      });
      earth = new THREE.Mesh(earthGeometry, earthMaterial);
      scene.add(earth);

      // Add lighting
      const ambientLight = new THREE.AmbientLight(0x404040, 0.3);
      scene.add(ambientLight);
      
      const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
      directionalLight.position.set(5, 5, 5);
      scene.add(directionalLight);

      // Position camera
      camera.position.z = 3;

      // Start animation
      animate();
    }

    function animate() {
      animationId = requestAnimationFrame(animate);
      
      if (earth) {
        earth.rotation.y += 0.005;
      }
      
      renderer.render(scene, camera);
    }

    // Handle window resize
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', initEarthScene);

    // Control handlers
    document.getElementById('diameterSlider').addEventListener('input', (e) => {
      document.getElementById('diameterValue').textContent = e.target.value + ' km';
    });

    document.getElementById('velocitySlider').addEventListener('input', (e) => {
      document.getElementById('velocityValue').textContent = e.target.value + ' km/s';
    });

    document.getElementById('angleSlider').addEventListener('input', (e) => {
      document.getElementById('angleValue').textContent = e.target.value + '¬∞';
    });

    // Simulate impact
    document.getElementById('simulateBtn').addEventListener('click', () => {
      console.log('üöÄ Simulating impact...');
      // Add impact simulation logic here
    });

    // Test deflection
    document.getElementById('deflectBtn').addEventListener('click', () => {
      console.log('üõ°Ô∏è Testing deflection...');
      // Add deflection logic here
    });

    // Game mode
    document.getElementById('gameBtn').addEventListener('click', () => {
      console.log('üéÆ Starting defense game...');
      // Add game mode logic here
    });
  </script>
</body>
</html>
