/* ===== main.css â€” NASA-grade system (tokens + base + layout) ===== */

/* Tokens */
:root{
  /* Core palette */
  --bg: #0a0a0f;
  --bg-2: #121624;
  --bg-3: #0f1426;
  --panel: #0e1424cc;
  --panel-border: #223154;
  --surface: #0c1223;
  --ink: #ffffff;
  --muted: #b7c3d6;
  --muter: #8a97ab;

  /* Accents */
  --accent: #00d4ff;
  --accent-2: #76a6ff;
  --warn: #ffaa00;
  --danger: #ff4d4d;
  --success: #2fd180;

  /* Elevation */
  --shadow-1: 0 6px 18px rgba(0,0,0,.35);
  --shadow-2: 0 12px 32px rgba(0,0,0,.45);
  --shadow-3: 0 18px 60px rgba(0,0,0,.6);

  /* Borders & radii */
  --hair: 1px solid rgba(255,255,255,.08);
  --hair-strong: 1px solid rgba(255,255,255,.18);
  --r-xs: 8px; --r: 12px; --r-lg: 18px; --r-xl: 22px;

  /* Motion */
  --t: 220ms cubic-bezier(.2,.7,.2,1);
  --t2: 360ms cubic-bezier(.2,.7,.2,1.1);
}

/* Reset + base */
*{box-sizing:border-box}
html{scroll-behavior:smooth; overflow-x:hidden}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font:16px/1.55 Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  position:relative;
}

/* One starfield (de-duped across files) */
body::before, body::after{
  content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
  background-repeat:no-repeat; background-size:100% 100%;
  opacity:.45; animation:twinkle 10s ease-in-out infinite;
}
body::before{ 
  background:
    radial-gradient(2px 2px at 20% 10%, #fff, transparent 60%),
    radial-gradient(1.5px 1.5px at 80% 30%, #9cc7ff, transparent 60%),
    radial-gradient(1.8px 1.8px at 60% 80%, #fff, transparent 60%),
    radial-gradient(1.2px 1.2px at 30% 60%, #8db7ff, transparent 60%);
}
body::after{
  opacity:.28; animation-direction:reverse;
  background:
    radial-gradient(1px 1px at 25% 15%, #fff, transparent 50%),
    radial-gradient(1.2px 1.2px at 75% 25%, #a8c8ff, transparent 60%),
    radial-gradient(.8px .8px at 45% 85%, #fff, transparent 50%);
}
@keyframes twinkle{0%,100%{opacity:.25} 25%{opacity:.8} 50%{opacity:.4} 75%{opacity:.9}}

/* Containers */
.container{max-width:1440px; margin:0 auto; padding:0 24px}
.layout{
  display:grid; grid-template-columns: 360px 1fr 360px; gap:18px;
  min-height: calc(100vh - 92px); padding:18px; align-items:stretch;
}

/* Header */
.site-header{
  position:sticky; top:0; z-index:1000;
  backdrop-filter:saturate(140%) blur(14px);
  background:linear-gradient(180deg, #0d1222ee, #0c1120ee);
  border-bottom:var(--hair-strong); box-shadow:var(--shadow-1);
}
.header__inner{display:flex; align-items:center; justify-content:space-between; height:72px}
.brand__title{margin:0; font-weight:800; letter-spacing:.2px}
.brand__subtitle{margin:4px 0 0; color:var(--muted); font-size:.95rem}

/* Panels (left/right) */
.panel{
  background:var(--panel); border:1px solid var(--panel-border);
  border-radius:var(--r-lg); box-shadow:var(--shadow-2);
  display:flex; flex-direction:column; overflow:hidden;
}
.panel__header{padding:14px 16px; border-bottom:var(--hair)}
.panel__title{margin:0; font-size:1.05rem; font-weight:700}
.section{padding:14px 16px; border-bottom:var(--hair)}
.section:last-child{border-bottom:0}

/* Stage (center) */
.stage{position:relative; background: radial-gradient(1200px 800px at 50% 20%, #0d1324, #070b16 68%, #04060c 100%); border-radius:var(--r-xl); border:1px solid #1c2846; box-shadow:var(--shadow-3); overflow:hidden}
.stage__canvas-wrap{position:relative; inset:0; width:100%; height:100%}
.stage__canvas{position:absolute; inset:0; width:100%; height:100%; display:block}

/* Readouts overlay */
.overlay{position:absolute; inset:0; pointer-events:none}
.overlay--readouts{inset:auto 12px 12px auto}
.readouts{pointer-events:auto; background:#0b1220cc; border:1px solid #203056; border-radius:14px; padding:12px 14px; backdrop-filter: blur(12px); box-shadow:var(--shadow-1)}
.readouts__title{margin:0 0 8px; font-size:.95rem; color:var(--muted)}
.readouts__grid{display:grid; grid-template-columns:1fr 1fr; gap:8px}
.readout{background:#0b1324; border:1px solid #1f2944; border-radius:10px; padding:10px}
.readout__label{font-size:.8rem; color:var(--muter)}
.readout__value{font-weight:800}

/* Buttons (base) */
.btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:10px 14px; border-radius:12px; border:1px solid #274275; background:linear-gradient(180deg,#132245,#0e1833); color:#eaf2ff; cursor:pointer; transition:transform var(--t), box-shadow var(--t)}
.btn:hover{transform:translateY(-1px) translateZ(0); will-change:transform; box-shadow:0 10px 26px rgba(0,212,255,.18)}
.btn--primary{border-color:#2b7aa1}
.btn--warning{border-color:#7c5a1e}
.btn--danger{border-color:#5c2130}
.btn--secondary{border-color:#2a406d; background:transparent}

/* Accessibility */
:focus-visible{outline:2px solid var(--accent); outline-offset:2px}

/* Back-compat aliases so old classes still render */
.main-container{display:contents}           /* uses .layout grid */
.control-panel{ /* left panel alias */ }
.info-panel{ /* right panel alias */ }
.visualization-container{ /* stage alias */ }
.impact-stats{ /* readouts alias */ }

/* Legacy support for existing classes */
.header{composes: site-header}
.main{composes: layout}
.asteroid-belt-zone{composes: stage}
#earthCanvas{composes: stage__canvas}

/* Gliding Scroll Effect */
html {
    scroll-behavior: smooth;
    scroll-padding-top: 2rem;
}

/* Smooth scrolling for all elements */
* {
    scroll-behavior: smooth;
}

/* Enhanced scroll behavior */
body {
    scroll-behavior: smooth;
    overflow-x: hidden;
}

/* Smooth transitions for all interactive elements */
a, button, input, select, textarea {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Smooth hover effects */
.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

/* Smooth focus effects */
input:focus, select:focus, textarea:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.3);
    border-color: var(--accent);
}

/* Smooth loading animations */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.fade-in {
    animation: fadeIn 0.6s ease-out;
}

/* Smooth slide animations */
@keyframes slideIn {
    from { transform: translateX(-100%); }
    to { transform: translateX(0); }
}

.slide-in {
    animation: slideIn 0.5s ease-out;
}

/* Smooth scale animations */
@keyframes scaleIn {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.scale-in {
    animation: scaleIn 0.4s ease-out;
}